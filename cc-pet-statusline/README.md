# ğŸ¾ CC Pet Statusline

ä¸€ä¸ªä¸º Claude Code è®¾è®¡çš„å® ç‰©ä¸»é¢˜çŠ¶æ€æ æ’ä»¶ï¼Œé€šè¿‡å¯çˆ±çš„ emoji å® ç‰©å±•ç¤ºä½ çš„ token ä½¿ç”¨æƒ…å†µï¼

## ğŸŒŸ ç‰¹æ€§

- ğŸ® **åŠ¨æ€å® ç‰©çŠ¶æ€**ï¼šæ ¹æ® token æ¶ˆè€—é€Ÿç‡å±•ç¤ºä¸åŒçš„å® ç‰©çŠ¶æ€
- ğŸ“Š **5å°æ—¶çª—å£ç›‘æ§**ï¼šå®æ—¶æ˜¾ç¤ºå½“å‰ 5 å°æ—¶è®¡è´¹çª—å£çš„ä½¿ç”¨ç™¾åˆ†æ¯”
- â±ï¸ **å‰©ä½™æ—¶é—´æé†’**ï¼šæ¸…æ™°å±•ç¤ºçª—å£å‰©ä½™å¯ç”¨æ—¶é—´
- ğŸ’° **æˆæœ¬è¿½è¸ª**ï¼šå®æ—¶æ˜¾ç¤ºå½“å‰ä¼šè¯çš„èŠ±è´¹
- ğŸ¨ **å½©è‰²è¿›åº¦æ¡**ï¼šç›´è§‚çš„ä½¿ç”¨é‡å¯è§†åŒ–

## ğŸ± å® ç‰©çŠ¶æ€è¯´æ˜

| çŠ¶æ€ | Emoji | è¯´æ˜ | Token æ¶ˆè€—é€Ÿç‡ |
|------|-------|------|---------------|
| ç¡è§‰ä¸­ | ğŸ˜´ | å®Œå…¨æ²¡æœ‰æ¶ˆè€— | 0 tokens/min |
| ä¼‘æ¯ä¸­ | ğŸ± | æä½æ¶ˆè€— | < 10 tokens/min |
| æ•£æ­¥ä¸­ | ğŸš¶ | ä½é€Ÿæ¶ˆè€— | 10-50 tokens/min |
| è¿åŠ¨ä¸­ | ğŸ• | ä¸­é€Ÿæ¶ˆè€— | 50-150 tokens/min |
| ç–¯ç‹‚ä¸­ | ğŸ¦„ | é«˜é€Ÿæ¶ˆè€— | > 150 tokens/min |
| ç´¯åäº† | ğŸ˜µ | æ¥è¿‘é™åˆ¶ | ä½¿ç”¨é‡ > 95% |

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šå¿«é€Ÿå®‰è£…ï¼ˆæ¨èï¼‰

1. å…‹éš†æˆ–ä¸‹è½½æœ¬é¡¹ç›®
2. åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œå®‰è£…å‘½ä»¤ï¼š

```bash
cd cc-pet-statusline
npm install
chmod +x index.js
```

3. é…ç½® Claude Codeï¼ˆè§ä¸‹æ–¹é…ç½®éƒ¨åˆ†ï¼‰

### æ–¹å¼äºŒï¼šæœ¬åœ°å…¨å±€å®‰è£…

åœ¨é¡¹ç›®ç›®å½•ä¸­è¿è¡Œï¼š

```bash
# ä½¿ç”¨ npm link åˆ›å»ºå…¨å±€é“¾æ¥
cd cc-pet-statusline
npm link

# éªŒè¯å®‰è£…
which cc-pet-statusline
```

æˆ–è€…ç›´æ¥ä»æœ¬åœ°è·¯å¾„å…¨å±€å®‰è£…ï¼š

```bash
# ä»æœ¬åœ°è·¯å¾„å®‰è£…
npm install -g /path/to/cc-pet-statusline

# ä¾‹å¦‚
npm install -g ./cc-pet-statusline
```

## âš™ï¸ é…ç½®

### 1. ç¼–è¾‘ Claude Code é…ç½®æ–‡ä»¶

åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæˆ–ç¼–è¾‘ `.claude/settings.json`ï¼š

```json
{
  "statusLine": {
    "type": "command",
    "command": "node /path/to/cc-pet-statusline/index.js",
    "padding": 0
  }
}
```

å¦‚æœå…¨å±€å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```json
{
  "statusLine": {
    "type": "command",
    "command": "cc-pet-statusline",
    "padding": 0
  }
}
```

### 2. é‡å¯ Claude Code

é…ç½®å®Œæˆåï¼Œé‡æ–°å¯åŠ¨ Claude Code ä¼šè¯å³å¯çœ‹åˆ°å® ç‰©çŠ¶æ€æ ã€‚

## ğŸ¯ æ•ˆæœç¤ºä¾‹

ä½ä½¿ç”¨é‡ï¼š
```
ğŸ˜´ ç¡è§‰ä¸­ | 5h: 5% â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ | å‰©ä½™ 4h 45m | ğŸ’° $0.10 | Proè®¢é˜…
```

ä¸­ç­‰ä½¿ç”¨é‡ï¼š
```
ğŸ• è¿åŠ¨ä¸­ | 5h: 40% â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘ | å‰©ä½™ 3h 0m | ğŸ’° $0.80 | Proè®¢é˜…
```

é«˜ä½¿ç”¨é‡ï¼š
```
ğŸ¦„ ç–¯ç‹‚ä¸­ | 5h: 75% â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘ | å‰©ä½™ 1h 15m | ğŸ’° $1.50 | Proè®¢é˜…
```

æ¥è¿‘é™åˆ¶ï¼š
```
ğŸ˜µ ç´¯åäº† | 5h: 96% â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ | å‰©ä½™ 12m | ğŸ’° $1.92 | API
```

## ğŸ§ª æµ‹è¯•

é¡¹ç›®åŒ…å«æµ‹è¯•è„šæœ¬ï¼Œå¯ä»¥æ¨¡æ‹Ÿä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼š

```bash
npm test
```

## ğŸ”§ æ•…éšœæ’é™¤

### çŠ¶æ€æ ä¸æ˜¾ç¤º

1. ç¡®è®¤ `.claude/settings.json` é…ç½®æ­£ç¡®
2. ç¡®ä¿è„šæœ¬è·¯å¾„æ­£ç¡®ä¸”æœ‰æ‰§è¡Œæƒé™
3. é‡å¯ Claude Code ä¼šè¯

### é…ç½®æ ¼å¼é”™è¯¯

å¦‚æœå‡ºç° "Expected object, but received string" é”™è¯¯ï¼Œè¯´æ˜é…ç½®æ ¼å¼ä¸æ­£ç¡®ã€‚

**é”™è¯¯æ ¼å¼**ï¼š
```json
{
  "statusLine": "cc-pet-statusline"
}
```

**æ­£ç¡®æ ¼å¼**ï¼š
```json
{
  "statusLine": {
    "type": "command",
    "command": "cc-pet-statusline",
    "padding": 0
  }
}
```

### æ•°æ®ä¸å‡†ç¡®

- æœ¬æ’ä»¶ä¾èµ– `ccusage` å·¥å…·è¯»å–æœ¬åœ°æ—¥å¿—æ–‡ä»¶
- ç¡®ä¿ Claude Code çš„æ—¥å¿—æ–‡ä»¶æ­£å¸¸ç”Ÿæˆ
- é¦–æ¬¡ä½¿ç”¨å¯èƒ½éœ€è¦ç­‰å¾…ä¸€äº›æ´»åŠ¨åæ‰èƒ½æ˜¾ç¤ºå‡†ç¡®æ•°æ®

### å® ç‰©çŠ¶æ€ä¸å˜åŒ–

- å® ç‰©çŠ¶æ€åŸºäºå®æ—¶çš„ token æ¶ˆè€—é€Ÿç‡
- å¦‚æœæ²¡æœ‰æ´»åŠ¨ï¼Œå® ç‰©ä¼šä¿æŒç¡è§‰æˆ–ä¼‘æ¯çŠ¶æ€
- å¼€å§‹å¯¹è¯åå® ç‰©ä¼šæ ¹æ®æ¶ˆè€—é€Ÿç‡æ”¹å˜çŠ¶æ€

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Node.js 18+**ï¼šæ ¸å¿ƒè¿è¡Œç¯å¢ƒ
- **ccusage**ï¼šToken ç»Ÿè®¡å¼•æ“
- **ANSI Colors**ï¼šç»ˆç«¯é¢œè‰²æ”¯æŒ

## ğŸ“ å·¥ä½œåŸç†

1. Claude Code æ¯ 300ms è°ƒç”¨ä¸€æ¬¡çŠ¶æ€æ è„šæœ¬
2. è„šæœ¬é€šè¿‡ stdin æ¥æ”¶å½“å‰ä¼šè¯çš„ JSON æ•°æ®
3. è°ƒç”¨ ccusage åˆ†ææœ¬åœ°æ—¥å¿—æ–‡ä»¶è·å– token ä½¿ç”¨ç»Ÿè®¡
4. æ ¹æ®æ¶ˆè€—é€Ÿç‡è®¡ç®—å® ç‰©çŠ¶æ€
5. è¾“å‡ºæ ¼å¼åŒ–çš„çŠ¶æ€æ åˆ° stdout

## ğŸš€ æœªæ¥è®¡åˆ’

- [ ] æ·»åŠ æ›´å¤šå® ç‰©å½¢è±¡
- [ ] æ”¯æŒè‡ªå®šä¹‰é˜ˆå€¼é…ç½®
- [ ] æ·»åŠ å†å²ç»Ÿè®¡åŠŸèƒ½
- [ ] æ”¯æŒå£°éŸ³æé†’
- [ ] å¼€å‘ tmux æ’ä»¶ç‰ˆæœ¬
- [ ] æ”¯æŒåƒç´ è‰ºæœ¯åŠ¨ç”»

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯

MIT License

## ğŸ™ è‡´è°¢

- [ccusage](https://github.com/ryoppippi/ccusage) - æä¾›æ ¸å¿ƒ token ç»Ÿè®¡åŠŸèƒ½
- Claude Code å›¢é˜Ÿ - æä¾› status line API æ”¯æŒ

---

Made with â¤ï¸ for Claude Code users